<span ng-if="environment"><identicon name="{{environment.component.id}}" size="30" background-color="[255,255,255, 0]" foreground-color="[51,51,51]"></identicon> {{environment.component.name}}</span>
<div ng-if="properties.documentRef.fileName != null" ng-class="{
    'form-horizontal': properties.labelPosition === 'left' && !properties.labelHidden,
    'row': properties.labelPosition === 'top' && !properties.labelHidden || properties.labelHidden
    }">
    <div class="form-group">
        <label
            ng-if="!properties.labelHidden"
            ng-class="{ 'control-label--required': properties.required }"
            class="control-label col-xs-{{ !properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 12 }}" ng-bind-html="properties.label | uiTranslate">
        </label>
        <div class="col-xs-{{ 12 - (!properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 0) }}">
            <div class="input-group">
                <input
                    type="{{properties.type}}"
                    class="form-control"
                    placeholder="{{ properties.placeholder | uiTranslate }}"
                    ng-model="properties.value"
                    ng-model-options="{ allowInvalid: true }"
                    name="{{ctrl.name}}"
                    ng-required="properties.required"
                    ng-minlength="properties.minLength"
                    ng-maxlength="properties.maxLength"
                    min="{{properties.min}}"
                    max="{{properties.max}}"
                    step="{{properties.step}}"
                    ng-readonly="properties.readOnly">
                    <span ng-if="canShow(properties.documentRef.contentMimeType) || canShow(properties.documentRef.contentMimetype)" class="input-group-btn">
                        <button  type="button" class="btn btn-primary" ng-click="ctrl.action()">
                            <i  class="glyphicon glyphicon-resize-full"></i>
                        </button>
                    </span>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" ng-click="ctrl.download()">
                            <i  class="glyphicon glyphicon-cloud-download"></i>
                        </button>
                    </span>
                
            </div>
            
            <div ng-messages="$form[ctrl.name].$dirty && $form[ctrl.name].$error " ng-messages-include="forms-generic-errors.html" role="alert"></div>
        </div>
    </div>
</div>
